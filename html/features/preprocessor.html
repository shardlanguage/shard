

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>The Shard PreProcessor (SPP) &mdash; Shard 1.0.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=e59714d7" />

  
      <script src="../_static/jquery.js?v=5d32c60e"></script>
      <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../_static/documentation_options.js?v=8d563738"></script>
      <script src="../_static/doctools.js?v=9bcbadda"></script>
      <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            Shard
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <!-- Local TOC -->
              <div class="local-toc"><ul>
<li><a class="reference internal" href="#">The Shard PreProcessor (SPP)</a><ul>
<li><a class="reference internal" href="#summary">Summary</a></li>
<li><a class="reference internal" href="#the-role-of-a-preprocessor">The role of a preprocessor</a></li>
<li><a class="reference internal" href="#instructions">Instructions</a></li>
<li><a class="reference internal" href="#constants">Constants</a></li>
<li><a class="reference internal" href="#macros">Macros</a></li>
<li><a class="reference internal" href="#includes">Includes</a></li>
</ul>
</li>
</ul>
</div>
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Shard</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">The Shard PreProcessor (SPP)</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/features/preprocessor.md.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="the-shard-preprocessor-spp">
<h1>The Shard PreProcessor (SPP)<a class="headerlink" href="#the-shard-preprocessor-spp" title="Link to this heading"></a></h1>
<hr class="docutils" />
<section id="summary">
<h2>Summary<a class="headerlink" href="#summary" title="Link to this heading"></a></h2>
<hr class="docutils" />
<ul class="simple">
<li><p><a class="reference internal" href="#the-role-of-a-preprocessor"><span class="xref myst">The role of a preprocessor</span></a></p></li>
<li><p><a class="reference internal" href="#instructions"><span class="xref myst">Instructions</span></a></p></li>
<li><p><a class="reference internal" href="#constants"><span class="xref myst">Constants</span></a></p></li>
<li><p><a class="reference internal" href="#macros"><span class="xref myst">Macros</span></a></p></li>
<li><p><a class="reference internal" href="#includes"><span class="xref myst">Includes</span></a></p></li>
</ul>
</section>
<section id="the-role-of-a-preprocessor">
<h2>The role of a preprocessor<a class="headerlink" href="#the-role-of-a-preprocessor" title="Link to this heading"></a></h2>
<hr class="docutils" />
<p>A <strong>textual preprocessor</strong> transforms the content of a program before it is analyzed by the compiler. This type of preprocessor does not have any knowledge about what is a function, a variable, Shard syntax, … It just operates on the content of the file.</p>
<p>Textual preprocessors are still used in languages like C and C++ but more languages decide to use <strong>imports</strong>, which manage namespaces and such things automatically.</p>
<p>However, Shard uses a preprocessor: <strong>SPP</strong>.</p>
</section>
<section id="instructions">
<h2>Instructions<a class="headerlink" href="#instructions" title="Link to this heading"></a></h2>
<hr class="docutils" />
<p>A SPP instruction always starts with <code class="docutils literal notranslate"><span class="pre">&#64;</span></code>. For example:</p>
<div class="highlight-sd notranslate"><div class="highlight"><pre><span></span>@instruction parameters
</pre></div>
</div>
</section>
<section id="constants">
<h2>Constants<a class="headerlink" href="#constants" title="Link to this heading"></a></h2>
<hr class="docutils" />
<p>A <strong>preprocessor constant</strong> is a symbol which corresponds to a constant text pattern. The preprocessor will replace every occurance of a constant by the text it corresponds to.</p>
<p>Constants are defined using the <code class="docutils literal notranslate"><span class="pre">&#64;const</span></code> instruction.</p>
<div class="highlight-sd notranslate"><div class="highlight"><pre><span></span>@const PI 3.14
</pre></div>
</div>
<p>All occurences of <code class="docutils literal notranslate"><span class="pre">PI</span></code> in the program after this definition will be replaced by <code class="docutils literal notranslate"><span class="pre">3.14</span></code>.</p>
<p>You can remove a constant using the <code class="docutils literal notranslate"><span class="pre">&#64;undef</span></code> instruction.</p>
<div class="highlight-sd notranslate"><div class="highlight"><pre><span></span>@undef PI
</pre></div>
</div>
</section>
<section id="macros">
<h2>Macros<a class="headerlink" href="#macros" title="Link to this heading"></a></h2>
<hr class="docutils" />
<p>A <strong>preprocessor macro</strong> is a symbol which corresponds to a text pattern. The SPP macros are <strong>very powerful</strong> because they work with <strong>regex patterns</strong>. They are defined using the <code class="docutils literal notranslate"><span class="pre">&#64;macro</span></code> keyword. The macro parameters start with a <code class="docutils literal notranslate"><span class="pre">$</span></code>.</p>
<div class="highlight-sd notranslate"><div class="highlight"><pre><span></span>@macro ADD &quot;add $x with $y&quot; &quot;$x + $y&quot;
</pre></div>
</div>
<p>Now, all occurences of <code class="docutils literal notranslate"><span class="pre">add</span> <span class="pre">...</span> <span class="pre">with</span> <span class="pre">...</span></code> (for example: <code class="docutils literal notranslate"><span class="pre">add</span> <span class="pre">3</span> <span class="pre">with</span> <span class="pre">4</span></code>) will be replaced by <code class="docutils literal notranslate"><span class="pre">...</span> <span class="pre">+</span> <span class="pre">...</span></code> (<code class="docutils literal notranslate"><span class="pre">3</span> <span class="pre">+</span> <span class="pre">4</span></code>).</p>
</section>
<section id="includes">
<h2>Includes<a class="headerlink" href="#includes" title="Link to this heading"></a></h2>
<hr class="docutils" />
<p>The Shard PreProcessor provides the <code class="docutils literal notranslate"><span class="pre">&#64;include</span></code> instruction, which is used to copy the content of a Shard file inside another Shard file. You do not need to specify the extension of the file you want to include, because SPP automatically adds “.sd” at the end of the filename.</p>
<p>To include a library, you need to type <code class="docutils literal notranslate"><span class="pre">lib:</span></code> before the name of your file. SPP will search for <code class="docutils literal notranslate"><span class="pre">/usr/local/lib/shard/your_lib/your_lib/your-file.sd</span></code>.</p>
<p>You <strong>must</strong> create at least one file named <code class="docutils literal notranslate"><span class="pre">__root__.sd</span></code> in your project directory for SPP to know from where to include files.</p>
</section>
</section>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025, Wither__.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>